!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):(e=e||self).j6t=t(e.$)}(this,function(_jQuery){"use strict";var _jQuery__default="default"in _jQuery?_jQuery.default:_jQuery;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=_superPropBase(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function _taggedTemplateLiteral(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}for(var jq=_jQuery__default,getEl=function(e){return document&&document.querySelector?document.querySelector(e):void 0},getEls=function(e){return document&&document.querySelectorAll?document.querySelectorAll(e):void 0},toStr=function(e){return(e||"").toString()},isEmpty=function(e){return null==e||"string"==typeof e&&""==e.trim()},isArray=Array.isArray,isFunction=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},isObject=function(e){return"object"==_typeof(e)&&!isArray(e)},isEmptyObject=function(e){return null!=e&&isObject(e)&&0==Object.keys(e).length},isSomeObject=function(e){return null!=e&&isObject(e)&&0<Object.keys(e).length},isSomeString=function(e){return"string"==typeof e&&""!=e.trim()},isDate=function(e){return e instanceof Date},lastIndexOf=function(e,t){var r=-1;if(isSomeString(e))if(isSomeString(t))r=e.lastIndexOf(t);else if(isArray(t))for(var n=e.length-1;0<=n;n--)if(0<=t.indexOf(e[n])){r=n;break}return r},isBool=function(e){return"boolean"==typeof e},isNumeric=function(e){var t=_typeof(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},left=function(e,t){return isSomeString(e)&&isNumeric(t)&&0<t?e.substr(0,t):""},right=function(e,t){return isSomeString(e)&&isNumeric(t)&&0<t?e.substr(e.length-t):""},Dec2Bin=function(e){return parseInt(toStr(e)).toString(2)},Dec2Hex=function(e){return parseInt(toStr(e)).toString(16)},Dec2Oct=function(e){return parseInt(toStr(e)).toString(8)},Bin2Dec=function(e){return parseInt(toStr(e),2)},Bin2Hex=function(e){return parseInt(toStr(e),2).toString(16)},Bin2Oct=function(e){return parseInt(toStr(e),2).toString(8)},Oct2Dec=function(e){return parseInt(toStr(e),8)},Oct2Hex=function(e){return parseInt(toStr(e),8).toString(16)},Oct2Bin=function(e){return parseInt(toStr(e),8).toString(2)},Hex2Dec=function(e){return parseInt(toStr(e),16)},Hex2Oct=function(e){return parseInt(toStr(e),16).toString(8)},Hex2Bin=function(e){return parseInt(toStr(e),16).toString(2)},NotImplementedException=function(e){throw e?"".concat(e||e.name," is not implemented"):"Not Imlemented Exception"},isPureFunction=function(e){var t=!1;if(isFunction(e))try{e.caller;t=!0}catch(e){}return t},isClass=function(e){return!isPureFunction(e)&&null!=e.prototype},deepAssign=function e(t){for(var r=arguments.length,n=new Array(1<r?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(!n.length)return t;var o=n.shift();if(isObject(t)&&isObject(o))for(var a in o)isObject(o[a])?(t[a]||jq.extend(t,_defineProperty({},a,{})),e(t[a],o[a])):jq.extend(t,_defineProperty({},a,o[a]));return e.apply(void 0,[t].concat(n))},merge=function(r,n,e){return isEmpty(r)?"":isArray(r)?r.map(function(e,t){return n(t,r[t])}).join(e):isSomeObject(r)?Object.keys(r).map(function(e){return n(e,r[e])}).join(e):toStr(r)},join=function(e,r,t){return merge(e,function(e,t){return"".concat(e).concat(r).concat(t)},t)},unmerge=function(e,r,t){var n={};return toStr(e).split(t).forEach(function(e){var t=e.split(r);t[0]&&(n[t[0]]=0<t.length?t[1]:void 0)}),n},apply=function(r,n,e){return isFunction(e)||(e=function(e){return e}),e(isEmpty(r)?"":isArray(r)?r.map(function(e,t){return n(r,t,e)}):isSomeObject(r)?(Object.keys(r).filter(function(e){return"string"==typeof r[e]}).forEach(function(e){n(r,e,r[e])}),r):isFunction(r)?n(null,null,toStr(r())):n(null,null,toStr(r)))},trim=function(e){return apply(e,function(e,t,r){return null!=t?e[t]=toStr(r).trim():e=toStr(r).trim()})},lower=function(e){return apply(e,function(e,t,r){return null!=t?e[t]=toStr(r).toLowerCase():e=toStr(r).toLowerCase()})},upper=function(e){return apply(e,function(e,t,r){return null!=t?e[t]=toStr(r).toUpperCase():e=toStr(r).toUpperCase()})},reverse=function(e){return apply(e,function(e,t,r){return null!=t?e[t]=toStr(r).split("").reverse().join(""):e=toStr(r).split("").reverse().join("")})},reverseToString=function(e){return join(reverse(e),"","")},capitalize=function(e){return apply(e,function(e,t,r){var n=toStr(r).split(" ").map(function(e){var t="";return e&&(t=e[0].toUpperCase()+e.substr(1)),t}).join(" ");return null!=t?e[t]=n:e=n})},urlEncode=function(e){return apply(e,function(e,t,r){return null!=t?e["string"==typeof t?encodeURI(t):t]=encodeURI(r):e=encodeURI(r)})},urlEncodeToString=function(e,t,r){var n=1<arguments.length&&void 0!==t?t:"=",i=2<arguments.length&&void 0!==r?r:",";return join(urlEncode(e),n,i)},urlDecode=function(e){return apply(e,function(e,t,r){return null!=t?e["string"==typeof t?decodeURI(t):t]=decodeURI(r):e=decodeURI(r)})},urlDecodeToString=function(e,t,r){var n=1<arguments.length&&void 0!==t?t:"=",i=2<arguments.length&&void 0!==r?r:",";return join(urlDecode(e),n,i)},urlEncodeComponent=function(e){return apply(e,function(e,t,r){return null!=t?e["string"==typeof t?encodeURIComponent(t):t]=encodeURIComponent(r):e=encodeURIComponent(r)})},urlDecodeComponent=function(e){return apply(e,function(e,t,r){return null!=t?e["string"==typeof t?decodeURIComponent(t):t]=decodeURIComponent(r):e=decodeURIComponent(r)})},_html_entity=[[38,"amp"],[60,"lt"],[62,"gt"],[160,"nbsp"],[161,"iexcl"],[162,"cent"],[163,"pound"],[164,"curren"],[165,"yen"],[166,"brvbar"],[167,"sect"],[168,"uml"],[169,"copy"],[170,"ordf"],[171,"laquo"],[172,"not"],[173,"shy"],[174,"reg"],[175,"macr"],[176,"deg"],[177,"plusmn"],[178,"sup2"],[179,"sup3"],[180,"acute"],[181,"micro"],[182,"para"],[184,"cedil"],[185,"sup1"],[186,"ordm"],[187,"raquo"],[188,"frac14"],[189,"frac12"],[190,"frac34"],[191,"iquest"],[192,"agrave"],[193,"aacute"],[194,"acirc"],[195,"atilde"],[196,"auml"],[197,"aring"],[198,"aelig"],[199,"ccedil"],[200,"egrave"],[201,"eacute"],[202,"ecirc"],[203,"euml"],[204,"igrave"],[205,"iacute"],[206,"icirc"],[207,"iuml"],[208,"eth"],[209,"ntilde"],[210,"ograve"],[211,"oacute"],[212,"ocirc"],[213,"otilde"],[214,"ouml"],[215,"times"],[216,"oslash"],[217,"ugrave"],[218,"uacute"],[219,"ucirc"],[220,"uuml"],[221,"yacute"],[222,"thorn"],[223,"szlig"],[224,"agrave"],[225,"aacute"],[226,"acirc"],[227,"atilde"],[228,"auml"],[229,"aring"],[230,"aelig"],[231,"ccedil"],[232,"egrave"],[233,"eacute"],[234,"ecirc"],[235,"euml"],[236,"igrave"],[237,"iacute"],[238,"icirc"],[239,"iuml"],[240,"eth"],[241,"ntilde"],[242,"ograve"],[243,"oacute"],[244,"ocirc"],[245,"otilde"],[246,"ouml"],[247,"divide"],[248,"oslash"],[249,"ugrave"],[250,"uacute"],[251,"ucirc"],[252,"uuml"],[253,"yacute"],[254,"thorn"],[255,"yuml"],[8704,"forall"],[8706,"part"],[8707,"exist"],[8709,"empty"],[8711,"nabla"],[8712,"isin"],[8713,"notin"],[8715,"ni"],[8719,"prod"],[8721,"sum"],[8722,"minus"],[8727,"lowast"],[8730,"radic"],[8733,"prop"],[8734,"infin"],[8736,"ang"],[8743,"and"],[8744,"or"],[8745,"cap"],[8746,"cup"],[8747,"int"],[8756,"there4"],[8764,"sim"],[8773,"cong"],[8776,"asymp"],[8800,"ne"],[8801,"equiv"],[8804,"le"],[8805,"ge"],[8834,"sub"],[8835,"sup"],[8836,"nsub"],[8838,"sube"],[8839,"supe"],[8853,"oplus"],[8855,"otimes"],[8869,"perp"],[8901,"sdot"],[913,"alpha"],[914,"beta"],[915,"gamma"],[916,"delta"],[917,"epsilon"],[918,"zeta"],[919,"eta"],[920,"theta"],[921,"iota"],[922,"kappa"],[923,"lambda"],[924,"mu"],[925,"nu"],[926,"xi"],[927,"omicron"],[928,"pi"],[929,"rho"],[931,"sigma"],[932,"tau"],[933,"upsilon"],[934,"phi"],[935,"chi"],[936,"psi"],[937,"omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"sigmaf"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"],[977,"thetasym"],[978,"upsih"],[982,"piv"],[338,"oelig"],[339,"oelig"],[352,"scaron"],[353,"scaron"],[376,"yuml"],[402,"fnof"],[710,"circ"],[732,"tilde"],[8194,"ensp"],[8195,"emsp"],[8201,"thinsp"],[8204,"zwnj"],[8205,"zwj"],[8206,"lrm"],[8207,"rlm"],[8211,"ndash"],[8212,"mdash"],[8216,"lsquo"],[8217,"rsquo"],[8218,"sbquo"],[8220,"ldquo"],[8221,"rdquo"],[8222,"bdquo"],[8224,"dagger"],[8225,"dagger"],[8226,"bull"],[8230,"hellip"],[8240,"permil"],[8242,"prime"],[8243,"prime"],[8249,"lsaquo"],[8250,"rsaquo"],[8254,"oline"],[8364,"euro"],[8482,"trade"],[8592,"larr"],[8593,"uarr"],[8594,"rarr"],[8595,"darr"],[8596,"harr"],[8629,"crarr"],[8968,"lceil"],[8969,"rceil"],[8970,"lfloor"],[8971,"rfloor"],[9674,"loz"],[9824,"spades"],[9827,"clubs"],[9829,"hearts"],[9830,"diams"]],_char_to_html_entity_map={},i=0;i<_html_entity.length;i++){var item=_html_entity[i];_char_to_html_entity_map[String.fromCharCode(item[0])]="&".concat(item[1],";")}for(var _html_entity_to_char_map={},_i=0;_i<_html_entity.length;_i++){var _item=_html_entity[_i];_html_entity_to_char_map[_item[1]]=String.fromCharCode(_item[0])}var _htmlEncode=function(e){for(var t=[],r=toStr(e),n=0;n<r.length;n++){var i=_char_to_html_entity_map[r[n]];t.push(i||r[n])}return t.join("")},_htmlDecode=function(e){return toStr(e).replace(/&#?\w+;/g,function(e){for(var t=!1,r="",n=1;n<e.length-1;n++)"#"!=e[n]?r+=e[n]:t=!0;return t||(r=r.toLowerCase()),t?String.fromCharCode(parseInt(r)):_html_entity_to_char_map[r]||"&#".concat(r,";")})},htmlEncode=function(e){return apply(e,function(e,t,r){return null!=t?e[t]=_htmlEncode(r):e=_htmlEncode(r)})},htmlEncodeToString=function(e){return join(htmlEncode(e),"","")},htmlDecode=function(e){return apply(e,function(e,t,r){return null!=t?e[t]=_htmlDecode(r):e=_htmlDecode(r)})},htmlDecodeToString=function(e){return join(htmlDecode(e),"","")},range=function(e,t){for(var r=[],n=e;n<t;n++)r.push(n);return r},util=Object.freeze({__proto__:null,NotImplementedException:NotImplementedException,getEl:getEl,getEls:getEls,isEmpty:isEmpty,isArray:isArray,isFunction:isFunction,isObject:isObject,isEmptyObject:isEmptyObject,isSomeObject:isSomeObject,isSomeString:isSomeString,isDate:isDate,isBool:isBool,isPureFunction:isPureFunction,isNumeric:isNumeric,isClass:isClass,deepAssign:deepAssign,toStr:toStr,lastIndexOf:lastIndexOf,left:left,right:right,merge:merge,join:join,unmerge:unmerge,apply:apply,trim:trim,lower:lower,upper:upper,reverse:reverse,reverseToString:reverseToString,capitalize:capitalize,urlEncode:urlEncode,urlEncodeToString:urlEncodeToString,urlDecode:urlDecode,urlDecodeToString:urlDecodeToString,urlEncodeComponent:urlEncodeComponent,urlDecodeComponent:urlDecodeComponent,_char_to_html_entity_map:_char_to_html_entity_map,_html_entity_to_char_map:_html_entity_to_char_map,_htmlEncode:_htmlEncode,_htmlDecode:_htmlDecode,htmlEncodeToString:htmlEncodeToString,htmlEncode:htmlEncode,htmlDecode:htmlDecode,htmlDecodeToString:htmlDecodeToString,Dec2Bin:Dec2Bin,Dec2Hex:Dec2Hex,Dec2Oct:Dec2Oct,Bin2Dec:Bin2Dec,Bin2Hex:Bin2Hex,Bin2Oct:Bin2Oct,Oct2Dec:Oct2Dec,Oct2Hex:Oct2Hex,Oct2Bin:Oct2Bin,Hex2Dec:Hex2Dec,Hex2Oct:Hex2Oct,Hex2Bin:Hex2Bin,range:range});function tagHelper(e,t,r,n){for(var i=[],o=0;o<e.length;o++)i.push(r(e[o])),o<e.length-1&&i.push(n(t[o]));return i.join("")}function lower$1(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return tagHelper(e,r,function(e){return e},function(e){return lower(e)})}function upper$1(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return tagHelper(e,r,function(e){return e},function(e){return upper(e)})}function urlEncode$1(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return tagHelper(e,r,function(e){return urlEncodeToString("string"==typeof e?e.trim():e)},function(e){return urlEncodeToString(e)})}function urlDecode$1(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return tagHelper(e,r,function(e){return urlDecodeToString(e)},function(e){return urlDecodeToString(e)})}function reverse$1(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return tagHelper(e,r,function(e){return e},function(e){return reverse(e)})}function htmlEncode$1(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return tagHelper(e,r,function(e){return e},function(e){return htmlEncodeToString(e)})}function htmlDecode$1(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return tagHelper(e,r,function(e){return e},function(e){return htmlDecodeToString(e)})}var tags={tagHelper:tagHelper,lower:lower$1,upper:upper$1,urlEncode:urlEncode$1,urlDecode:urlDecode$1,reverse:reverse$1,htmlEncode:htmlEncode$1,htmlDecode:htmlDecode$1},tags$1=Object.freeze({__proto__:null,default:tags}),isValidTag=function(e){return isSomeString(e)&&/^[a-zA-Z][a-zA-Z0-9-_]*$/.test(e)},isValidAttributeName=function(e){return isSomeString(e)&&/^[a-zA-Z][a-zA-Z0-9-_]*$/.test(e)},isValudURI=function(e){return isSomeString(e)&&/^(http|https):\/\/[a-zA-Z0-9-_\.]$/.test(e)},isValidEvent=function(e){return isSomeString(e)&&/^\w+$/.test(e)},isValidDomId=function(e){return isSomeString(e)&&/^\w(\w|-|:|\.)*$/.test(e)},isValidId=function(e){return isSomeString(e)&&/^[a-zA-Z]\w*$/.test(e)},validation=Object.freeze({__proto__:null,isValidTag:isValidTag,isValidAttributeName:isValidAttributeName,isValudURI:isValudURI,isValidEvent:isValidEvent,isValidDomId:isValidDomId,isValidId:isValidId}),logType={info:"info",primary:"primary",secondary:"secondary",alert:"alert",cancel:"cancel",success:"success",suggest:"suggest",abort:"abort",trace:"trace",debug:"debug",warning:"warning",fatal:"fatal",danger:"danger",fail:"fail",error:"error"},logFilter={none:[],success:["success","error"],info:["info","primary","secondary","alert","cancel","success","suggest","abort"],debug:["primary","alert","abort","cancel","fatal","danger","fail","error","trace","suggest"],warning:["warning","alert","suggest"],error:["fatal","danger","fail","error","suggest"],all:["info","primary","secondary","alert","cancel","success","suggest","abort","trace","debug","warning","fatal","danger","fail","error"]},BaseLogger=function(){function a(e){_classCallCheck(this,a),jq.extend(this,e),isArray(this.filter)||(this.filter=logFilter.none),this.setting=deepAssign({info:{color:"black",bold:!1,size:null,italic:!1,blink:!1},primary:{color:"blue",bold:!1,size:null,italic:!1,blink:!1},secondary:{color:"gray",bold:!1,size:null,italic:!1,blink:!1},alert:{color:"darkorange",bold:!1,size:null,italic:!1,blink:!1},cancel:{color:"purple",bold:!1,size:null,italic:!1,blink:!1},success:{color:"green",bold:!1,size:null,italic:!1,blink:!1},suggest:{color:"magenta",bold:!1,size:null,italic:!1,blink:!1},abort:{color:"indigo",bold:!1,size:null,italic:!1,blink:!1},trace:{color:"darkcyan",bold:!1,size:null,italic:!1,blink:!1},debug:{color:"navy",bold:!1,size:null,italic:!1,blink:!1},warning:{color:"brown",bold:!1,size:null,italic:!1,blink:!1},fatal:{color:"darkred",bold:!0,size:null,italic:!1,blink:!1},danger:{color:"red",bold:!1,size:null,italic:!1,blink:!1},fail:{color:"maroon",bold:!1,size:null,italic:!1,blink:!1},error:{color:"violet",bold:!1,size:null,italic:!1,blink:!1}},e&&e.setting)}return _createClass(a,[{key:"getStyle",value:function(e){var t=this.setting[e],r=[];return t&&(t.color&&r.push("color: ".concat(t.color)),t.bold&&r.push("font-weight: bold"),t.italic&&r.push("font-style: italic"),t.size&&r.push("font-size: ".concat(t.size))),r.join(";")}},{key:"_logInternal",value:function(){NotImplementedException("".concat(this.constructor.name,"._logInternal()"))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["info"].concat(t))}},{key:"logAs",value:function(t){for(var e,r=this,n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];i.length&&((isEmpty(t)||logFilter.all.indexOf(t)<0)&&(t=logType.info),0<=this.filter.indexOf(t)&&i.forEach(function(e){r._logInternal({type:t,data:e,date:new Date})}),isSomeObject(this.next)&&this.next instanceof a&&(e=this.next).logAs.apply(e,[t].concat(i)))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["info"].concat(t))}},{key:"primary",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["primary"].concat(t))}},{key:"secondary",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["secondary"].concat(t))}},{key:"alert",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["alert"].concat(t))}},{key:"cancel",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["cancel"].concat(t))}},{key:"success",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["success"].concat(t))}},{key:"suggest",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["suggest"].concat(t))}},{key:"abort",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["abort"].concat(t))}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["trace"].concat(t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["debug"].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["warning"].concat(t))}},{key:"fatal",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["fatal"].concat(t))}},{key:"danger",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["danger"].concat(t))}},{key:"fail",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["fail"].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logAs.apply(this,["error"].concat(t))}},{key:"isValidLog",value:function(e){return isSomeObject(e)&&isSomeString(e.type)&&isDate(e.date)}}]),a}(),NullLogger=function(){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,BaseLogger),_createClass(t,[{key:"_logInternal",value:function(){}}]),t}(),ConsoleLogger=function(){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,BaseLogger),_createClass(t,[{key:"_logInternal",value:function(e){if(this.isValidLog(e)){var t=this.getStyle(e.type);t?console.log("%c".concat(e.data),t):console.log(e.data)}}}]),t}(),StoreLogger=function(){function r(e){var t;return _classCallCheck(this,r),t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e)),isArray(t.store)||(t.store=[]),t}return _inherits(r,BaseLogger),_createClass(r,[{key:"_logInternal",value:function(e){this.isValidLog(e)&&this.store.push(e)}}]),r}(),StringLogger=function(){function r(e){var t;return _classCallCheck(this,r),t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e)),isSomeString(t.logFormat)||(t.logFormat="%date: %data\n"),isSomeString(t.replacer)||(t.replacer="\t"),isSomeString(t.space)||(t.space="   "),t}return _inherits(r,StoreLogger),_createClass(r,[{key:"format",value:function(e){return this.isValidLog(e)?this.logFormat.replace(/%date/g,e.date).replace(/%type/g,e.type).replace(/%data/g,JSON.stringify(e.data,this.replacer,this.space)):""}},{key:"stringify",value:function(){var t=this;return this.store.map(function(e){return t.format(e)}).join("")}}]),r}(),DomLogger=function(){function r(e){var t;return _classCallCheck(this,r),t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e)),isSomeString(t.target)||(t.target="#logs"),isSomeString(t.lineBreak)||(t.lineBreak="<br/>\n"),isSomeString(t.replacer)||(t.replacer="\t"),isSomeString(t.space)||(t.space="   "),jq.isFunction(t.onLog)||(t.onLog=function(){}),t._target=jq(t.target),t}return _inherits(r,BaseLogger),_createClass(r,[{key:"_logInternal",value:function(e){this.isValidLog(e)&&this.onLog(e)}}]),r}(),DomJsonLogger=function(){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,DomLogger),_createClass(t,[{key:"onLog",value:function(e){if(this._target&&this._target.length)try{this._target.append(JSON.stringify(e,this.replacer,this.space))}catch(e){this._target.append(JSON.stringify("error serializing log",this.replacer,this.space))}}}]),t}(),DomTableLogger=function(){function r(e){var t;return _classCallCheck(this,r),(t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e)))._target&&0==t._target.find("thead").length&&t._target.append("\n\t\t\t\t<thead>\n\t\t\t\t\t<th>Date</th>\n\t\t\t\t\t<th>Type</th>\n\t\t\t\t\t<th>Data</th>\n\t\t\t\t</thead>\n\t\t\t"),t._target&&0==t._target.find("tbody").length&&t._target.append("<tbody></thead>"),t}return _inherits(r,DomLogger),_createClass(r,[{key:"onLog",value:function(e){var t="";try{t="string"==typeof e.data||"number"==typeof e.data?e.data:htmlEncodeToString(JSON.stringify(e.data,this.replacer,this.space))}catch(e){t="error serializing data"}this._target&&this._target.length&&this._target.find("tbody").append("\n\t\t\t\t<tr>\n\t\t\t\t\t<td>".concat(e.date.toLocaleString(),"</td>\n\t\t\t\t\t<td>").concat(e.type,"</td>\n\t\t\t\t\t<td>").concat(t,"</td>\n\t\t\t\t</tr>\n\t\t\t"))}}]),r}(),logging=Object.freeze({__proto__:null,logType:logType,logFilter:logFilter,BaseLogger:BaseLogger,NullLogger:NullLogger,ConsoleLogger:ConsoleLogger,StoreLogger:StoreLogger,StringLogger:StringLogger,DomLogger:DomLogger,DomJsonLogger:DomJsonLogger,DomTableLogger:DomTableLogger});function _templateObject4(){var e=_taggedTemplateLiteral([" @","",""]);return _templateObject4=function(){return e},e}function _templateObject3(){var e=_taggedTemplateLiteral(["<!","","",">\n\t\t\t\t\t\t\t\t","!","\n\t\t\t\t\t\t\t   </!",">"]);return _templateObject3=function(){return e},e}function _templateObject2(){var e=_taggedTemplateLiteral([" @","",""]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral(["<!","","","/>"]);return _templateObject=function(){return e},e}if(null==jq)throw"jQuery not present";var tags$2=["h1","h2","h3","h4","h5","h6","p","b","strong","i","ins","pre","q","small","strike","font","sub","summary","sup","u","div","span","img","figure","figcaption","picture","section","article","header","footer","table","thead","th","tr","td","tbody","tfoot","canvas","video","audio","form","button","input","textarea","fieldset","kbd","label","legend","select","optgroup","option","ul","li","dd","dl","dt","ol","a","abbr","acronym","link","address","area","aside","base","basefont","bdi","blockquote","caption","center","cite","code","col","colgroup","data","datalist","del","details","dfn","dialog","dir","em","embed","applet","noframes","iframe","frame","frameset","hr","br","main","map","mark","meter","map","noscript","script","object","output","param","progress","rp","rt","ruby","s","samp","source","svg","template","time","track","tt","var","wbr"],events=["onabort","onafterprint","onbeforeprint","onbeforeunload","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onscroll","onsearch","onseeked","onseeking","onselect","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunload","onvolumechange","onwaiting","onwheel"],cssAttribute=function(e){var t=[],r=0,n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;/[A-Z]/.test(l)?0==r?t.push(l.toLowerCase()):t.push("-"+l.toLowerCase()):t.push(l),r++}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return t.join("")},j6tIdProvider=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isValid",value:function(e){return isValidDomId(e)}},{key:"generate",value:function(){NotImplementedException("".concat(this.constructor.name,".generate()"))}},{key:"getState",value:function(){}},{key:"setState",value:function(){}},{key:"restoreState",value:function(){}}]),e}(),j6tUniversalIdProvider=function(){function n(e){var t;_classCallCheck(this,n);var r={};switch(_typeof(e)){case"object":r=e;break;case"number":r.counter=e;break;case"string":r.idPrefix=e}return t=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this)),jq.extend(_assertThisInitialized(t),{counter:0,preservedCounter:0,idPrefix:"_el_"},r),t}return _inherits(n,j6tIdProvider),_createClass(n,[{key:"generate",value:function(e){var t=!1;return"string"==typeof e&&this.isValid(e)?0<=(e=e.trim()).indexOf(" ")&&(t=!0):t=!0,t?"".concat(this.idPrefix).concat(this.counter++):e}},{key:"getState",value:function(){return this.counter}},{key:"setState",value:function(e){isNumeric(e)&&(this.preservedCounter=this.counter,this.counter=parseInt(e))}},{key:"restoreState",value:function(){this.counter=this.preservedCounter}}]),n}(),j6tRoot=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"render",value:function(e,t){if(e instanceof Component&&1==jq(t).length){var r=[],n="";Component.links.forEach(function(e){e.applied||(e.element.preRender(),n=e.element.render(),r.push(n),e.applied=!0)}),e._idProviderState=e.idProvider.getState(),e.preRender(),n=e.render(),r.push(n),Component.scripts.forEach(function(e){e.applied||(e.element.preRender(),n=e.element.render(),r.push(n),e.applied=!0)}),jq(t).html(r.join("\n")),e.postRender(),e.bindEvents()}}},{key:"version",get:function(){return"1.3.5"}}]),e}(),Component=function(){function Component(e){var t;_classCallCheck(this,Component),this.props=jq.extend({},isSomeObject(e)?e:{arg:e}),isSomeObject(this.props.parent)&&(this.parent=this.props.parent),isSomeObject(this.props.logger)&&(this.logger=this.props.logger),this.logger instanceof BaseLogger||(isSomeObject(this.parent)&&this.parent.logger instanceof BaseLogger?this.logger=this.parent.logger:this.logger=new NullLogger),isBool(this.props.isRoot)&&(this.isRoot=this.props.isRoot),isEmpty(this.parent)&&(this.isRoot||this.logger.warn("warning: no parent specified for this ".concat(this.constructor.name," instance"))),isSomeObject(this.props.idProvider)&&(this.idProvider=this.props.idProvider),!isSomeObject(this.idProvider)&&isSomeObject(this.parent)&&isSomeObject(this.parent.idProvider)&&(this.logger.secondary("no idProvider specified for this ".concat(this.constructor.name," instance. Used its parent's idProvider.")),this.idProvider=this.parent.idProvider),this.idProvider instanceof j6tIdProvider||(this.logger.error("specified IdProvider is not a j6tIdProvider instance"),this.logger.error("used j6tUniversalIdProvider as fallback"),t=new j6tUniversalIdProvider,this.idProvider=t),isSomeString(this.props.id)&&(this.logger.debug("props.id = ".concat(this.props.id)),this.id=this.props.id),this.id=this.idProvider.generate(this.id),(!isSomeString(this.id)||0<=this.id.indexOf(" "))&&(this.logger.error("error: current ".concat(this.constructor.name,"'s IdProvider couldn't generate a valid id")),this.logger.error("Using a j6tUniversalIdProvider as fallback ..."),isSomeObject(t)||(t=new j6tUniversalIdProvider),this.id=t.generate(this.id)),this.logger.secondary("current id = '".concat(this.id,"'")),this.logger.debug("props:");var r=_objectSpread2({},e);delete r.logger,delete r.parent,delete r.container,delete r.idProvider,this.logger.debug(r),this._idProviderState=null,this._ids=[],this.lastId="",this._hasWrapper=!!isBool(this.props.hasWrapper)&&this.props.hasWrapper,this._lastOwner=null,this._children=[],this.__events=[],this._events=[],this._resources=[],this._parseLevel=0}return _createClass(Component,[{key:"generateId",value:function(e){return this.idProvider.generate(e)}},{key:"exec",value:function(e,t){var r="";switch(this.logger.info("exec('".concat(e,"', value) ...")),this.logger.debug(t),e){case"b":r=Dec2Bin(t);break;case"x":r=Dec2Hex(t);break;case"o":r=Dec2Oct(t);break;case"bd":r=Bin2Dec(t);break;case"bx":r=Bin2Hex(t);break;case"bo":r=Bin2Oct(t);break;case"od":r=Oct2Dec(t);break;case"ox":r=Oct2Hex(t);break;case"ob":r=Oct2Bin(t);break;case"xd":r=Hex2Dec(t);break;case"xo":r=Hex2Oct(t);break;case"xb":r=Hex2Bin(t);break;case"urlencode":r=urlEncodeToString(t);break;case"urldecode":r=urlDecodeToString(t);break;case"htmldecode":r=htmlDecode(t);break;case"upper":r=upper(t);break;case"lower":r=lower(t);break;case"capitalize":r=capitalize(t);break;case"reverse":r=reverseToString(t);break;case"trim":r=trim(t);break;default:r="*"+e+htmlEncodeToString(t)}return r}},{key:"validateText",value:function(e){return e}},{key:"validateHtml",value:function(e){return e}},{key:"parseCssSelector",value:function(e){var r="",n=0,i="",o=this,a=[" ",".",">",",","[",":","+","~","\t"];function t(e,t){0<=a.indexOf(e)?(isNumeric(i)?(r+=o._ids[parseInt(i)]+(t?"":e),i=""):r+="#"==i||""==i?o.id+(t?"":e):i+(t?"":e),n=0):t?r+=i:i+=e}if(this.logger.info("parseCssSelector('".concat(e,"')")),isSomeString(e)){for(var s=0;s<e.length;s++){var l=e[s];switch(n){case 0:"#"==l?(r+=l,i="",n=1):r+=l;break;case 1:t(l,!1)}}1==n&&t(".",!0)}return this.logger.debug("\t\tresult = '".concat(r,"'")),r}},{key:"parse",value:function parse(literals){for(var _len=arguments.length,expressions=new Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)expressions[_key-1]=arguments[_key];var me=this;me._parseLevel++;var result=[],arr;function _evalName(args){function _create(str,props,ignoreOwner){var obj;me.logger.secondary(str);var __props=_objectSpread2({},props);delete __props.logger,delete __props.parent,delete __props.container,delete __props.idProvider,me.logger.debug(__props);try{var _eval=eval;obj=eval(str),ignoreOwner||(me._lastOwner=obj)}catch(e){me.logger.fail(e)}return obj}function _render(e){if(isSomeObject(e))if(e instanceof BaseAttribute||e instanceof bindElement||me._children.push(e),isFunction(e.render)){if(e.idProvider instanceof j6tIdProvider&&(e._idProviderState=e.idProvider.getState(),me.logger.debug("\t\tx._idProviderState = ".concat(e._idProviderState))),isFunction(e.preRender))try{e.preRender()}catch(e){me.logger.fail("x.preRender failed!"),me.logger.danger(e)}else me.logger.secondary("no preRender() found");var t;try{t=e.render()}catch(e){me.logger.fail("render failed!"),me.logger.danger(e)}t?result.push(t):me.logger.warn("x.render() didn't produce anything.")}else me.logger.fail("x didn't have a render() method. odd.");else me.logger.error("x is not an object")}function _check(str){var result=!1;try{var _eval=eval;result=eval(str)}catch(e){}return result}var obj,dynamicRender="",props;do{if(!isValidId(args.name)){result.push(args.directive+htmlEncodeToString(args.name+(args.arg||"").toString()));break}if(props=isSomeObject(args.arg)?_objectSpread2({},args.arg):{arg:args.arg},"bind"==args.name?props.container=me:props.parent=me,_check("util.isFunction(".concat(args.name,")"))){obj=_create("new ".concat(args.name,"(props)"),props),dynamicRender=args.name;break}if(_check("util.isFunction(".concat(args.name,"Element)"))){obj=_create("new ".concat(args.name,"Element(props)"),props),dynamicRender="".concat(args.name,"Element");break}if(_check("util.isFunction(".concat(args.name,"Tag)"))){obj=_create("new ".concat(args.name,"Tag(props)"),props),dynamicRender="".concat(args.name,"Tag");break}if(_check("util.isFunction(".concat(args.name,"Attribute)"))){var currentIdIsForMe=!1;"id"==args.name&&(isSomeString(args.arg)&&"#"==args.arg[0]?1<args.arg.length?(me.logger.secondary("manual id '".concat(args.arg,"' for current component specified.")),currentIdIsForMe=!0,args.arg=args.arg.substr(1)):(me.logger.secondary("current component id '".concat(me.id,"' requested.")),args.arg=me.id,me._hasWrapper=!0):"."==args.arg&&(me.logger.secondary("current component id '".concat(me.id,"' requested.")),args.arg=me.id)),obj=_create("new ".concat(args.name,"Attribute({ attributeName: '").concat(args.name,"', attributeValue: args.arg, container: me })"),null,!0),dynamicRender="".concat(args.name,"Attribute"),isSomeObject(obj)&&currentIdIsForMe&&(me.id=obj.attributeValue,me.logger.secondary("current component's id was changed to '".concat(me.id,"'.")));break}if(0<=events.indexOf(args.name)||"#"==args.directive){if(me._ids.length){me.logger.secondary("event ".concat(args.name," ").concat("#"==args.directive?"was forced":" was found",".")),obj=new bindElement({event:args.name,container:me,target:"#".concat(me._ids[me._ids.length-1]),handler:args.arg});break}me.logger.warn("component _ids list is empty. cannot create event '".concat(args.name,"'."))}if(0<=tags$2.indexOf(args.name)){if("^"==args.directive){me.logger.secondary("".concat(args.name," forced to be evaluated as an attribute."));try{obj=new BaseAttribute({attributeName:args.name,attributeValue:args.arg,container:me})}catch(e){me.logger.fail("attribute creation failed!"),me.logger.danger(e)}}else{me.logger.secondary("".concat(args.name," evaluated as a tag."));try{obj=new BaseTag(_objectSpread2({tagName:args.name},props))}catch(e){me.logger.fail("tag creation failed!"),me.logger.danger(e)}}break}if("$"==args.directive){me.logger.secondary("".concat(args.name," forced to be evaluated as a tag."));try{obj=new BaseTag(_objectSpread2({tagName:args.name},props))}catch(e){me.logger.fail("tag creation failed!"),me.logger.danger(e)}}else{me.logger.secondary("".concat(args.name," evaluated as an attribute."));try{obj=new BaseAttribute({attributeName:args.name,attributeValue:args.arg,container:me})}catch(e){me.logger.fail("attribute creation failed!"),me.logger.danger(e)}}}while(0);!isSomeObject(obj)&&isSomeString(dynamicRender)&&(me.logger.secondary("using DynamicComponent to invoke ".concat(args.name," ...")),obj=_create("new DynamicComponent(props)",props),isSomeObject(obj)?eval("obj.render = ".concat(dynamicRender)):me.logger.fail("creating DynamicComponent failed!")),isSomeObject(obj)&&!isSomeObject(obj.props)&&(obj.props={}),_render(obj)}function _evaluateExpression(n,e){var i="",o=expressions[n];if(isFunction(o))if(e)if(isArray(arr))i=[],arr.forEach(function(e,t){var r="";try{r=o(e,t,me)}catch(e){me.logger.fail("calling interpolation expression ".concat(n," function for array item ").concat(t," failed.")),me.logger.danger(e)}r&&i.push(r)}),arr=null,i=i.join("");else{for(var t=arguments.length,r=new Array(2<t?t-2:0),a=2;a<t;a++)r[a-2]=arguments[a];var s=[me].concat(r);try{i=o.apply(null,s)}catch(e){me.logger.fail("calling interpolation expression ".concat(n," function failed.")),me.logger.danger(e)}}else i=o;else isArray(o)?arr=o:i=o;return i}me.logger.info("parse()"),me.logger.debug("\t\tliterals"),me.logger.debug(literals),me.logger.debug("\t\texpressions"),me.logger.debug(expressions);for(var i=0;i<literals.length;){var literal=literals[i];if(i<literals.length-1){var lastWhitespaceIndex=-1,starIndex=-1,literalBeforeWhitespace="",literalAfterWhitespace="",firstCh="",lastCh="",name="",command="",value=void 0;switch(lastWhitespaceIndex=literal?lastIndexOf(literal,[" ","\t","\n"]):-1,literalBeforeWhitespace=0<=lastWhitespaceIndex?literal.substr(0,lastWhitespaceIndex+1):"",literalAfterWhitespace=0<=lastWhitespaceIndex?literal.substr(lastWhitespaceIndex+1):literal,firstCh=literalAfterWhitespace?literalAfterWhitespace[0]:"",lastCh=literalAfterWhitespace?literalAfterWhitespace[literalAfterWhitespace.length-1]:"",["#","^","$"].indexOf(firstCh)<0&&(firstCh=""),"@"==lastCh&&(i<expressions.length-1&&""==literals[i+1]?name=_evaluateExpression(i,!0):lastCh=""),lastCh&&["@","!","#"].indexOf(lastCh)<0&&(lastCh=""),""==lastCh&&(name=firstCh?literalAfterWhitespace.substr(1):literalAfterWhitespace.substr(0),starIndex=name.lastIndexOf("*"),command=0<=starIndex?name.substr(starIndex+1):""),lastCh&&1<literal.length&&result.push(literal.substr(0,literal.length-1)),lastCh){case"!":value=_evaluateExpression(i,!0),value&&result.push(value);break;case"#":value=_evaluateExpression(i,!0),"#"==value||"."==value?(me.logger.secondary("writing current component's id: '".concat(me.id,"'")),result.push("#"+me.id)):isNumeric(value)?function(){var e=value;result.push(function(){return"#"+(me._ids[e]||"")})}():result.push("#"+htmlEncodeToString(value));break;case"@":switch(value=0<=["&","%",".","=","-","~","/","|"].indexOf(name)?_evaluateExpression(i+1,!0):_evaluateExpression(i+1,!1),name){case"&":result.push(urlDecodeToString(value));break;case"%":result.push(urlEncodeToString(value));break;case".":result.push(htmlDecode(value));break;case"=":result.push(upper(value));break;case"-":result.push(lower(value));break;case"~":result.push(capitalize(value));break;case"/":result.push(reverseToString(value));break;case"|":result.push(trim(value));break;default:_evalName({name:name,arg:value,directive:""})}i++;break;default:if(command){result.push(left(literal,literal.length-command.length-1)),value=_evaluateExpression(i,"*"!=command[command.length-1],command);var execResult=void 0;try{execResult=this.exec(command,value)}catch(e){me.logger.fail("exec() failed for command ".concat(command,".")),me.logger.danger(e)}execResult&&result.push(execResult)}else isValidId(name)?(result.push(literalBeforeWhitespace),value=_evaluateExpression(i,!1),_evalName({name:name,arg:value,directive:firstCh})):(value=_evaluateExpression(i,!0),result.push(literal),result.push(htmlEncodeToString(value)))}}else result.push(literal);i++}for(var _i=0;_i<result.length;_i++)isFunction(result[_i])&&(result[_i]=result[_i]());return me._hasWrapper||1!=me._parseLevel||(me.logger.warn("component ".concat(this.constructor.name," has no wrapper. default wrapper was added.")),result.splice(0,0,'<div id="'.concat(me.id,'">')),result.push("</div>")),me._parseLevel--,result.join("")}},{key:"preRender",value:function(){this._children=[],this._ids=[],this._events=[]}},{key:"postRender",value:function(){}},{key:"render",value:function(){return""}},{key:"refresh",value:function(e){var t=this;t.logger.info("refresh()"),t.logger.debug(e);var r=jq("#"+this.id).length;if(1==r){var n,i=this.idProvider instanceof j6tIdProvider;if(i)try{this.idProvider.setState(this._idProviderState)}catch(e){t.logger.fail("idProvider.setState() failed."),t.logger.danger(e)}isSomeObject(e)&&jq.extend(this.props,e);try{this.preRender()}catch(e){t.logger.fail("preRender() failed."),t.logger.danger(e),t.logger.warn("component is an inconsistent state. resolve issue immediately.")}try{n=this.render()}catch(e){t.logger.fail("refresh() failed."),t.logger.danger(e)}if(i)try{this.idProvider.restoreState()}catch(e){t.logger.fail("idProvider.restoreState() failed."),t.logger.danger(e)}jq("#"+this.id).replaceWith(n);try{this.postRender()}catch(e){t.logger.fail("postRender() failed."),t.logger.danger(e)}this.bindEvents()}else 0==r?t.logger.abort("component with id '".concat(this.id,"' was not found in the DOM. refresh() aborted.'")):t.logger.abort("more than one component with id '".concat(this.id,"' was found in the DOM. refresh() aborted.'"))}},{key:"bindEvents",value:function(){var n=this,i=this;this._children.forEach(function(e,t){isFunction(e.bindEvents)&&e.bindEvents()});for(var e=function(e){var t=n._events[e];if(jq(t.target).length)if(void 0===t.rebind)jq(t.target).bind(t.name,t.handler);else{var r=n.__events.findIndex(function(e){return e.name==t.name&&e.target==t.target&&e._handler==t.handler.toString()});0<=r?n.__events[r].bound||(jq(t.target).bind(t.name,t.handler),n.__events[r].bound=!0):(i.logger.warn("event '".concat(t.name,"' for ").concat(t.target," was not found in __events!")),jq(t.target).bind(t.name,t.handler))}else i.logger.warn("event target '".concat(t.target,"' does not exist in the DOM. event binding skipped."))},t=0;t<this._events.length;t++)e(t)}},{key:"children",get:function(){return this._children}}]),Component}();Component.links=[],Component.scripts=[],Component.imports=[];var DynamicComponent=function(){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,Component),t}(),BaseElement=function(){function t(e){_classCallCheck(this,t),jq.extend(this,isSomeObject(e)?e:{}),this.logger instanceof BaseLogger||(isSomeObject(this.parent)&&this.parent.logger instanceof BaseLogger?this.logger=this.parent.logger:isSomeObject(this.container)&&this.container.logger instanceof BaseLogger?this.logger=this.container.logger:this.logger=new NullLogger)}return _createClass(t,[{key:"render",value:function(){NotImplementedException("".concat(this.constructor.name,".render()"))}}]),t}(),BaseTag=function(){function r(e){var t;return _classCallCheck(this,r),t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e)),isSomeString(e)&&(t.tagName=e),t.selfClose=!!isBool(t.props.selfClose)&&t.props.selfClose,t._ids.push(me.id),t._lastOwner=_assertThisInitialized(t),isEmpty(t.props.arg)||(t.props.html=t.arg),t.logger.secondary("BaseTag.ctor(): tagName = ".concat(t.tagName)),t.logger.debug(t.props),t}return _inherits(r,Component),_createClass(r,[{key:"isValid",value:function(){return isValidTag(this.tagName)}},{key:"getExcludedAttributes",value:function(){return["tagname","selfclose","isroot","logger","parent","arg","idprovider","haswrapper"]}},{key:"getAttributes",value:function(){var r=[],n=this.getExcludedAttributes();return jq.each(this.props,function(e){if(isSomeString(e)&&!isNumeric(e)){var t=e.toLowerCase();isValidAttributeName(e)&&n.indexOf(t)<0&&r.push(e)}}),this.logger.secondary("getAttributes(): final properties count = ".concat(r.length)),this.logger.debug(r),r}},{key:"preRender",value:function(){_get(_getPrototypeOf(r.prototype),"preRender",this).call(this),this._ids.push(this.id)}},{key:"render",value:function(){var t=this;return this.isValid()?t.selfClose?t.parse(_templateObject(),t.tagName,t.getAttributes(),function(e){return t.parse(_templateObject2(),e,t.props[e])}):t.parse(_templateObject3(),t.tagName,t.getAttributes(),function(e){return t.parse(_templateObject4(),e,t.props[e])},t.validateText(t.props.text),t.validateHtml(t.props.html),t.tagName):(t.logger.abort("tag ".concat(this.constructor.name," isn't valid. render aborted.")),"")}}]),r}(),stylesTag=function(){function r(e){_classCallCheck(this,r);var t=isSomeObject(e)?e:{};return t.tagName="style",isArray(e)?t.html=e.join("\n"):"string"==typeof e&&(t.html=e),_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,t))}return _inherits(r,BaseTag),r}(),linkTag=function(){function n(e){var t;_classCallCheck(this,n);var r=isSomeObject(e)?e:{};return r.tagName="link",r.selfClose=!0,isSomeString(e)&&(r.href=e),(t=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,r))).props.href=isSomeString(t.props.href)?t.props.href:"",t.props.rel=isSomeString(t.props.rel)?t.props.rel:"",t.props.type=isSomeString(t.props.type)?t.props.type:"",".css"==left(t.props.href,4).toLowerCase()&&(isEmpty(t.props.rel)&&(t.props.rel="stylesheet"),isEmpty(t.props.type)&&(t.props.type="text/css")),t}return _inherits(n,BaseTag),n}(),linkElement=function(){function n(e){if(_classCallCheck(this,n),isArray(e))e.forEach(function(e){var t=new linkTag(e),r=t.props.href.toLowerCase();isSomeString(r)&&null==Component.links.find(function(e){return e.element.props.href.toLowerCase()==r})&&Component.links.push({applied:!1,element:t})});else{var t=new linkTag(e),r=t.props.href.toLowerCase();isSomeString(r)&&null==Component.links.find(function(e){return e.element.props.href.toLowerCase()==r})&&Component.links.push({applied:!1,element:t})}}return _createClass(n,[{key:"render",value:function(){return""}}]),n}(),scriptTag=function(){function n(e){var t;_classCallCheck(this,n);var r=isSomeObject(e)?e:{};return r.tagName="script",isSomeString(e)&&(r.src=e),(t=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,r))).props.src=isSomeString(t.props.src)?t.props.src:"",t.props.type=isSomeString(t.props.type)?t.props.type:"",".js"==left(t.props.src,3).toLowerCase()?isEmpty(t.props.type)&&(t.props.type="text/javascript"):".json"==left(t.props.src,5).toLowerCase()&&isEmpty(t.props.type)&&(t.props.type="application/json"),t}return _inherits(n,BaseTag),n}(),scriptElement=function(){function n(e){if(_classCallCheck(this,n),isArray(e))e.forEach(function(e){var t=new scriptTag(e),r=t.props.src.toLowerCase();isSomeString(r)&&null==Component.scripts.find(function(e){return e.element.props.src.toLowerCase()==r})&&Component.scripts.push({applied:!1,element:t})});else{var t=new scriptTag(e),r=t.props.toLowerCase();isSomeString(r)&&null==Component.scripts.find(function(e){return e.element.props.src.toLowerCase()==r})&&Component.scripts.push({applied:!1,element:t})}}return _createClass(n,[{key:"render",value:function(){return""}}]),n}(),BaseAttribute=function(){function r(e){_classCallCheck(this,r);var t=isSomeObject(e)?e:{attributeName:"",attributeValue:e};return _possibleConstructorReturn(this,_getPrototypeOf(r).call(this,t))}return _inherits(r,BaseElement),_createClass(r,[{key:"validateValue",value:function(e){return!isEmpty(e)}},{key:"encodeValue",value:function(e){return htmlEncodeToString(e)}},{key:"isValid",value:function(){return isValidAttributeName(this.attributeName)&&(this.validateValue(this.attributeValue)||this.standAlone)}},{key:"render",value:function(){var e="";return this.isValid()&&(this.standAlone?!0!==this.attributeValue&&(isEmpty(this.attributeValue)||0==this.attributeValue)||(e=" ".concat(this.attributeName)):isEmpty(this.attributeValue)||(e=" ".concat(this.attributeName,'="').concat(this.encodeValue(this.attributeValue),'"'))),e}}]),r}(),BooleanAttribute=function(){function r(e){var t;return _classCallCheck(this,r),(t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e))).standAlone=!0,t}return _inherits(r,BaseAttribute),r}(),selectedAttribute=function(){function r(e){var t;return _classCallCheck(this,r),(t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e))).attributeName="selected",t}return _inherits(r,BooleanAttribute),r}(),checkedAttribute=function(){function r(e){var t;return _classCallCheck(this,r),(t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e))).attributeName="checked",t}return _inherits(r,BooleanAttribute),r}(),disabledAttribute=function(){function r(e){var t;return _classCallCheck(this,r),(t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e))).attributeName="disabled",t}return _inherits(r,BooleanAttribute),r}(),asyncAttribute=function(){function r(e){var t;return _classCallCheck(this,r),(t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e))).attributeName="async",t}return _inherits(r,BooleanAttribute),r}(),deferAttribute=function(){function r(e){var t;return _classCallCheck(this,r),(t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e))).attributeName="defer",t}return _inherits(r,BooleanAttribute),r}(),classAttribute=function(){function r(e){var t;return _classCallCheck(this,r),t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e)),isArray(e)&&(t.attributeValue=e.join(" ")),t.attributeName="class",t}return _inherits(r,BaseAttribute),r}(),idAttribute=function(){function n(e){var t;if(_classCallCheck(this,n),(t=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,e))).attributeName="id",isEmpty(t.attributeValue)&&(t.attributeValue=""),isSomeObject(t.container)){var r=t.attributeValue;t.attributeValue=t.container.idProvider.generate(r),isNumeric(r)&&(t.container._ids[r]=t.attributeValue)}return t}return _inherits(n,BaseAttribute),n}(),dirAttribute=function(){function r(e){var t;return _classCallCheck(this,r),(t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e))).attributeName="dir",["rtl","ltr"].indexOf(toStr(t.attributeValue))<0&&(t.attributeValue=""),t}return _inherits(r,BaseAttribute),r}(),styleAttribute=function(){function r(e){var t;return _classCallCheck(this,r),(t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e))).attributeName="style",t}return _inherits(r,BaseAttribute),_createClass(r,[{key:"populate",value:function(e){var r=this,n=[];return isArray(e)?e.forEach(function(e){if(isSomeString(e))e=e.trim(),n.push(";"==e[e.length-1]?e.substr(0,e.length-1):e);else if(isSomeObject(e)){var t=r.populate(e);isSomeString(t)&&n.push(t)}}):isSomeObject(e)?jq.each(e,function(e,t){var r="";r=isArray(t)?t.join(" "):isFunction(t)?t():toStr(t),n.push("".concat(cssAttribute(e),": ").concat(r))}):isSomeString(e)&&n.push(e),n=n.join("; ").trim()}},{key:"render",value:function(){var e="";return this.isValid()&&(e=this.populate(this.attributeValue),isEmpty(e)||(e=' style="'.concat(e,'"'))),e}}]),r}(),bindElement=function(){function r(e){var t;return _classCallCheck(this,r),(t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e))).event=(isSomeString(t.event)?t.event:"").toLowerCase(),2<=t.event.length&&"on"==t.event.substr(0,2)&&(t.event=t.event.substr(2)),t}return _inherits(r,BaseElement),_createClass(r,[{key:"render",value:function(){var t=this;if(this.logger.debug("event: '".concat(this.event,"', target: '").concat(this.target,"', container: '").concat(isSomeObject(this.container)?"ok":"error","'")),isValidEvent(this.event)&&isSomeString(this.target)&&isFunction(this.handler)&&isSomeObject(this.container)&&isArray(this.container._events)){var e=this.container._events.find(function(e){return e.name==t.event&&e.target==t.target&&e._handler==t.handler.toString()});if(null==e)e={target:this.container.parseCssSelector(this.target),name:this.event,_handler:this.handler.toString(),handler:this.handler,rebind:this.rebind,bound:!1},this.container._events.push(e),null==this.container.__events.find(function(e){return e.name==t.event&&e.target==t.target&&e._handler==t.handler.toString()})&&this.container.__events.push({target:this.target,name:this.event,_handler:this.handler.toString(),rebind:this.rebind,bound:!1});else this.logger.error("the same event and handler already bound for the same element")}return""}}]),r}(),elements=Object.freeze({__proto__:null,default:j6tRoot,j6tIdProvider:j6tIdProvider,j6tUniversalIdProvider:j6tUniversalIdProvider,Component:Component,DynamicComponent:DynamicComponent,BaseElement:BaseElement,BaseTag:BaseTag,stylesTag:stylesTag,linkTag:linkTag,linkElement:linkElement,scriptTag:scriptTag,scriptElement:scriptElement,BaseAttribute:BaseAttribute,BooleanAttribute:BooleanAttribute,selectedAttribute:selectedAttribute,checkedAttribute:checkedAttribute,disabledAttribute:disabledAttribute,asyncAttribute:asyncAttribute,deferAttribute:deferAttribute,classAttribute:classAttribute,idAttribute:idAttribute,dirAttribute:dirAttribute,styleAttribute:styleAttribute,bindElement:bindElement}),j6t=new j6tRoot;return Object.assign(j6t,elements,util,validation,logging,{tags:tags$1}),window&&(window.j6t=j6t),j6t});
